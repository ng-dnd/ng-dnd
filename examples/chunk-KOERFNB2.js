import{a as j,b as Z}from"./chunk-6WYEQOFM.js";import{b as O,c as S,d as L,e as k,f as w,g as C,i as Q,j as V,k as z,l as G,n as R}from"./chunk-DLU3CLPK.js";import{c as de,d as ce,e as ue,f as A,i as fe,j as _e}from"./chunk-5LICRU6Z.js";import{e as le,f as me}from"./chunk-RVW25ACB.js";import"./chunk-6YLGINRF.js";import{a as pe}from"./chunk-2VD5BHMB.js";import{$a as p,Ab as ee,Bb as F,Ea as E,Ib as _,Nb as te,Ob as ie,Pb as ne,Qa as l,Ra as M,a as $,b as U,bb as m,cb as X,db as Y,eb as W,hb as d,ib as D,jb as T,kb as P,lb as n,lc as oe,mb as o,na as f,nb as c,pb as q,qb as x,rb as u,rc as re,sc as I,tc as ae,wa as J,wc as N,xa as y,ya as b,yb as H,yc as se,zb as a}from"./chunk-H5XLUPFI.js";var he,ve,g=function(e){return e.Math="Math",e.Name="Name",e}(g||{}),h=(()=>{class e{static{he=j}constructor(t,i,r){this.id=t,this.question=i,this.answer=r,this[he]=!0,this.formType=g.Math,this.templateDescription=e.templateDescription}static{this.templateDescription="Math question"}}return e})(),K=(()=>{class e{static{ve=j}constructor(t){this.id=t,this[ve]=!0,this.formType=g.Name,this.templateDescription=e.templateDescription}static{this.templateDescription="Name and student ID"}}return e})();function be(e,s){e&1&&(n(0,"div"),a(1,"That's not quite right."),o())}function Ee(e,s){e&1&&(n(0,"div"),a(1,"Correct!"),o())}function Me(e,s){if(e&1&&(n(0,"div",4),p(1,be,2,0,"div")(2,Ee,2,0,"div"),o()),e&2){let t=s;l(),d(t.invalid&&(t.touched||t.dirty)&&(t.errors!=null&&t.errors.incorrect)?1:-1),l(),d(t.valid?2:-1)}}function De(e,s){if(e&1&&(n(0,"div")(1,"h4"),a(2),o(),n(3,"form",2),c(4,"input",3),p(5,Me,3,2,"div",4),o()()),e&2){let t,i=u().$implicit,r=u();l(2),ee(r.getQuestion(i)),l(),m("formGroup",i.input),l(2),d((t=i.input.get("answer"))?5:-1,t)}}function Te(e,s){e&1&&(n(0,"div"),a(1,"Please enter a student ID in the form 's1234'."),o())}function Pe(e,s){if(e&1&&(n(0,"div",4),p(1,Te,2,0,"div"),o()),e&2){let t=s;l(),d(t.invalid&&(t.touched||t.dirty)&&(t.errors!=null&&t.errors.pattern)?1:-1)}}function qe(e,s){if(e&1&&(n(0,"div")(1,"h4"),a(2,"Enter your Name and Student Id"),o(),n(3,"form",2)(4,"label"),a(5,"Name "),c(6,"input",5),o(),n(7,"label"),a(8,"Student ID "),c(9,"input",6),o(),p(10,Pe,2,1,"div",4),o()()),e&2){let t,i=u().$implicit;l(3),m("formGroup",i.input),l(7),d((t=i.input.get("studentId"))?10:-1,t)}}function Fe(e,s){if(e&1&&(n(0,"div",1),p(1,De,6,3,"div")(2,qe,11,2,"div"),o()),e&2){let t,i=s.$implicit;l(),d((t=i.question.formType)==="Math"?1:t==="Name"?2:-1)}}var Ie=e=>s=>s.value===e?null:{incorrect:!0},Ce=(()=>{class e{constructor(){this.sections=[]}set formElements(t){this.sections=t.map(i=>({question:i,input:this.getFormGroup(i)}))}getFormGroup(t){switch(t.formType){case g.Math:return new w({answer:new C(null,[S.required,Ie(t.answer)])});case g.Name:return new w({name:new C(null,[S.required]),studentId:new C(null,[S.required,S.pattern(/^s\d{4}$/)])})}}getQuestion(t){return t.question.question}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["app-printout"]],inputs:{formElements:"formElements"},standalone:!0,features:[_],decls:3,vars:0,consts:[[1,"printout-page"],[1,"printout-elem"],[3,"formGroup"],["formControlName","answer","type","number"],[1,"alert","alert-danger"],["formControlName","name"],["formControlName","studentId"]],template:function(i,r){i&1&&(n(0,"div",0),T(1,Fe,3,1,"div",1,D),o()),i&2&&(l(),P(r.sections))},dependencies:[R,Q,O,V,L,k,z,G],styles:[".ng-valid[_ngcontent-%COMP%]:not(form){border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}"]})}}return e})();function Ne(e,s){e&1&&c(0,"input",3)}var xe=(()=>{class e{constructor(){this.edit=new E}ngOnChanges(){this.form=new w({question:new C(this.data.question),answer:new C(this.data.answer)})}onSubmit(){this.edit.emit(new h(this.data.id,this.form.get("question")?.value,this.form.get("answer")?.value))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["app-math-form"]],inputs:{data:"data"},outputs:{edit:"edit"},standalone:!0,features:[J,_],decls:11,vars:2,consts:[[3,"ngSubmit","formGroup"],["placeholder","Add a card","formControlName","question",1,"title"],["type","number","formControlName","answer",1,"amount"],["type","submit","value","Save question"]],template:function(i,r){i&1&&(n(0,"form",0),x("ngSubmit",function(){return r.onSubmit()}),n(1,"div")(2,"label"),a(3," Question: "),c(4,"input",1),o()(),n(5,"div")(6,"label"),a(7," Answer: "),c(8,"input",2),o()(),n(9,"div"),p(10,Ne,1,0,"input",3),o()()),i&2&&(m("formGroup",r.form),l(10),d(r.form.dirty?10:-1))},dependencies:[R,Q,O,V,L,k,z,G],encapsulation:2})}}return e})();function Le(e,s){if(e&1){let t=q();n(0,"app-math-form",4),x("edit",function(r){y(t);let v=u();return b(v.edit.emit(r))}),o()}if(e&2){let t=u();m("data",t.getMathQuestion())}}function ke(e,s){e&1&&(n(0,"div"),a(1,"Student enters their name/student id"),o())}var ge=(()=>{class e{getMathQuestion(){return this.question}constructor(t){this.render=t,this.preview=!1,this.edit=new E}static{this.\u0275fac=function(i){return new(i||e)(M(A,8))}}static{this.\u0275cmp=f({type:e,selectors:[["quiz-section"]],inputs:{question:"question",preview:"preview"},outputs:{edit:"edit"},standalone:!0,features:[_],decls:7,vars:10,consts:[[1,"section",3,"dragPreview"],[1,"section-handle",3,"dragSource","noHTML5Preview"],[1,"section-content"],[3,"data"],[3,"edit","data"]],template:function(i,r){if(i&1&&(n(0,"div",0),te(1,"async"),n(2,"span",1),a(3," \u2630 "),o(),n(4,"div",2),p(5,Le,1,1,"app-math-form",3)(6,ke,2,0,"div"),o()()),i&2){let v;Y("section--placeholder",ie(1,8,r.render==null?null:r.render.isDragging$))("section--preview",r.preview),m("dragPreview",r.render==null?null:r.render.source),l(2),m("dragSource",r.render==null?null:r.render.source)("noHTML5Preview",!0),l(3),d((v=r.question.formType)==="Math"?5:v==="Name"?6:-1)}},dependencies:[N,I,ae,xe,oe],styles:["[_nghost-%COMP%]{display:block}.section[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:300px;color:#1111a7;background:#e2ecfa;display:flex}.section--preview[_ngcontent-%COMP%], [_nghost-%COMP%]:not(:last-child)   .section[_ngcontent-%COMP%]{border-bottom:1px solid #7593bf}.section-handle[_ngcontent-%COMP%]{cursor:move;color:#333;margin-right:4px}.section-handle[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]{padding:6px}.section--placeholder[_ngcontent-%COMP%]{opacity:.4;background:#eee}"]})}}return e})();function Qe(e,s){if(e&1&&c(0,"quiz-section",13),e&2){let t=u(2).item;m("question",t.data)("preview",!0)}}function Ve(e,s){if(e&1&&(n(0,"div",15),a(1),o()),e&2){let t=u(2).item;W(t.size.style()),l(),F(" ",t.data.templateDescription," ")}}function ze(e,s){if(e&1&&(n(0,"div",15),a(1),o()),e&2){let t=u(2).item;W(t.size.style()),l(),F(" ",t.data.templateDescription," ")}}function Ge(e,s){if(e&1&&p(0,Qe,1,2,"quiz-section",13)(1,Ve,2,3,"div",14)(2,ze,2,3,"ng-template",null,0,ne),e&2){let t=u().item;d(t.isInternal||t.hover.listId==="WORK_AREA"?0:1)}}function Re(e,s){if(e&1&&p(0,Ge,4,1),e&2){let t=s.$implicit;d(t==="QUIZ_QUESTION"?0:-1)}}function Ae(e,s){if(e&1&&(n(0,"div",7,1),a(2),o()),e&2){let t=s.$implicit,i=H(1);m("dndSortableExternal",t.spec)("dragSource",i.source)("noHTML5Preview",!0),l(2),F(" ",t.description," ")}}function Be(e,s){if(e&1){let t=q();n(0,"quiz-section",16,2),x("edit",function(r){y(t);let v=u();return b(v.edit(r))}),o()}if(e&2){let t=s.$implicit,i=H(1);X("display","block"),m("dndSortableRender",t)("question",i.data)}}var Se=(()=>{class e{constructor(t){this.dnd=t,this.spill=fe(this.dnd,"QUIZ_QUESTION",{drop:i=>{i.isInternal&&(this.list=this.tempList=this.remove(i))}}),this.list=[new h(1,"What is 2+2?",4),new h(2,"What is the meaning of life?",42),new h(3,"What is 1137 mod 256?",113)],this.nextId=4,this.tempList=this.list,this.spec={type:"QUIZ_QUESTION",trackBy:i=>i.id,hover:i=>{this.tempList=this.move(i)},drop:i=>{this.tempList=this.list=this.move(i)},endDrag:i=>{this.tempList=this.list}},this.nameBlock=U($({},this.spec),{createData:()=>new K(this.nextId++)}),this.mathQuestion=U($({},this.spec),{createData:()=>new h(this.nextId++,"New math question",0)}),this.questionTemplates=[{spec:this.nameBlock,description:K.templateDescription},{spec:this.mathQuestion,description:h.templateDescription}]}move(t){return Z(this.list,i=>{t.isInternal&&i.splice(t.index,1),i.splice(t.hover.index,0,t.data)})}remove(t){return Z(this.list,i=>{i.splice(t.index,1)})}edit(t){let i=this.list.findIndex(r=>r.id===t.id);if(i>=0){let r=this.list.slice(0);r.splice(i,1,t),this.tempList=this.list=r}}ngOnDestroy(){this.spill.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)(M(se))}}static{this.\u0275cmp=f({type:e,selectors:[["app-external-sortable"]],standalone:!0,features:[_],decls:18,vars:5,consts:[["external",""],["ext","dndSortableExternal"],["r","dndSortableRender"],[3,"allBackends"],[1,"flex",3,"dropTarget"],[1,"templates"],[1,"templates-flex"],[1,"external",3,"dndSortableExternal","dragSource","noHTML5Preview"],[1,"work-area"],["listId","WORK_AREA",1,"list",3,"spec","children"],[3,"display","dndSortableRender","question","edit",4,"dndSortableTemplate"],[1,"printout"],[3,"formElements"],[3,"question","preview"],[1,"external",3,"style"],[1,"external"],[3,"edit","dndSortableRender","question"]],template:function(i,r){i&1&&(n(0,"dnd-preview",3),p(1,Re,1,1,"ng-template"),o(),n(2,"div",4)(3,"div",5)(4,"h3"),a(5,"Drag templates"),o(),n(6,"div",6),T(7,Ae,3,4,"div",7,D),o()(),n(9,"div",8)(10,"h3"),a(11,"...into here; edit them"),o(),n(12,"dnd-sortable-list",9),p(13,Be,2,4,"quiz-section",10),o()(),n(14,"div",11)(15,"h3"),a(16,"... then try the quiz out"),o(),c(17,"app-printout",12),o()()),i&2&&(m("allBackends",!0),l(2),m("dropTarget",r.spill),l(5),P(r.questionTemplates),l(5),m("spec",r.spec)("children",r.tempList),l(5),m("formElements",r.list))},dependencies:[N,I,re,_e,ue,ce,A,de,me,le,ge,Ce],styles:["@media screen and (width >= 480px){.flex[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;padding:4px}}h3[_ngcontent-%COMP%]{border-bottom:2px solid #dedede;padding-bottom:6px}.templates-flex[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column}.external[_ngcontent-%COMP%]{background:#ffe5df;color:#ab4a30;padding:4px;margin-bottom:8px;border-top:2px solid #f9ede9;border-bottom:2px solid #efc5ba;min-width:0}"]})}}return e})();var we=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["quiz-container"]],standalone:!0,features:[_],decls:14,vars:0,consts:[["path","sortable/quiz"]],template:function(i,r){i&1&&(c(0,"app-example-link",0),n(1,"p"),a(2," This example does the same list operations as the 'Simple list' example, but it does them with "),n(3,"code"),a(4,"immer"),o(),a(5," just to shake things up. "),o(),n(6,"p"),a(7," It also uses the "),n(8,"code"),a(9,"[dndSortableExternal]"),o(),a(10," directive to allow dragging in items that aren't already managed by a list. "),o(),n(11,"p"),a(12," It also uses a 'spillTarget', attached outside the work area, which allows the preview to morph as you drag templates over the work area and out again. "),o(),c(13,"app-external-sortable"))},dependencies:[pe,Se],encapsulation:2})}}return e})();var Ft=[{path:"",component:we}];export{Ft as routes};
