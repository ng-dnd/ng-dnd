import{a as K,b as Q,d as ee,h as te,j as ne,m as ie,n as oe}from"./chunk-3OBIFKRL.js";import{b as U}from"./chunk-AZZEJM65.js";import{a as J}from"./chunk-T55MMTBF.js";import{Aa as f,E as $,Ea as N,Eb as g,Fb as R,Jb as Y,Kb as Z,Lb as A,Pa as p,Pb as q,Rb as v,Sb as b,Ya as c,ab as C,gb as m,hb as D,ib as S,ja as u,jb as P,lc as k,mb as _,nb as z,ob as W,pb as X,qb as a,rb as r,sb as l,sc as H,tc as G,vb as O,w as I,wb as h,xc as w,zc as x}from"./chunk-C7W2QAC5.js";var he=(t,o)=>({transform:t,WebkitTransform:o}),ae=(()=>{class t{constructor(){this.dnd=u(x),this.transform="",this.endDrag=new f,this.source=this.dnd.dragSource("SPOT",{beginDrag:()=>({id:123,x:this.x,y:this.y,fromCube:!0}),endDrag:e=>{this.endDrag.emit()}})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=c({type:t,selectors:[["xy-cube"]],inputs:{transform:"transform",x:"x",y:"y"},outputs:{endDrag:"endDrag"},decls:14,vars:7,consts:[[1,"container",3,"dragSource","noHTML5Preview"],["id","cube"],[1,"front"],[1,"back"],[1,"right"],[1,"left"],[1,"top"],[1,"bottom"]],template:function(n,i){n&1&&(a(0,"section",0)(1,"div",1)(2,"figure",2),g(3,"1"),r(),a(4,"figure",3),g(5,"2"),r(),a(6,"figure",4),g(7,"3"),r(),a(8,"figure",5),g(9,"4"),r(),a(10,"figure",6),g(11,"5"),r(),a(12,"figure",7),g(13,"6"),r()()()),n&2&&(m("dragSource",i.source)("noHTML5Preview",!0),p(),P(q(4,he,i.transform,i.transform)))},dependencies:[w,G],styles:[".container[_ngcontent-%COMP%]{width:200px;height:200px;position:relative;perspective:1000px}#cube[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transform-style:preserve-3d}#cube[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;width:196px;height:196px;display:block;position:absolute;border:2px solid black;font-size:68px;text-align:center;line-height:196px}#cube[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{transform:rotateY(0) translateZ(100px);background:#225378}#cube[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{transform:rotateX(180deg) translateZ(100px);background:#1695a3}#cube[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{transform:rotateY(90deg) translateZ(100px);background:#acf0f2}#cube[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{transform:rotateY(-90deg) translateZ(100px);background:#f3ffe2}#cube[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{transform:rotateX(90deg) translateZ(100px);background:#eb7f00}#cube[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{transform:rotateX(-90deg) translateZ(100px);background:#b0121b}"]})}}return t})();function y(t){return o=>{let e=Math.round(o.x/t)*t,n=Math.round(o.y/t)*t;return{x:e,y:n}}}var L=(()=>{class t{constructor(){this.compensate=!1}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=c({type:t,selectors:[["xy-box"]],inputs:{compensate:"compensate"},decls:1,vars:2,consts:[[1,"spot"]],template:function(n,i){n&1&&l(0,"div",0),n&2&&S("compensate",i.compensate)},styles:[".spot[_ngcontent-%COMP%]{background:#33e8d5;box-shadow:0 0 8px #33e8d5;cursor:move;padding:16px;border-radius:16px}.compensate[_ngcontent-%COMP%]{margin-left:-16px;margin-top:-16px}"]})}}return t})();var se=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=c({type:t,selectors:[["xy-box-drag-preview"]],decls:2,vars:1,consts:[[1,"phresh"],[3,"compensate"]],template:function(n,i){n&1&&(a(0,"div",0),l(1,"xy-box",1),r()),n&2&&(p(),m("compensate",!1))},dependencies:[L],styles:["[_nghost-%COMP%]{display:inline-block}@keyframes _ngcontent-%COMP%_animatedBackground{0%{background:#40a096cc}to{background:#40a09633}}.phresh[_ngcontent-%COMP%]{overflow:auto;margin-left:-32px;margin-top:-32px;padding:16px;border-radius:32px;animation-name:_ngcontent-%COMP%_animatedBackground;animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-direction:alternate}"]})}}return t})();var B=(()=>{class t{constructor(){this.math=Math,this.width=400,this.height=400}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=c({type:t,selectors:[["xy-crosshairs"]],inputs:{x:"x",y:"y",width:"width",height:"height"},decls:6,vars:18,consts:[[1,"crosshair","horizontal"],[1,"label"],[1,"crosshair","vertical"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"span",1),g(2),r()(),a(3,"div",2)(4,"span",1),g(5),r()()),n&2&&(D("top",i.y-1,"px")("width",i.width,"px"),S("swap-ends",i.x<70)("flip",i.y>i.height-30),p(2),R(i.math.round(i.y)),p(),D("left",i.x-1,"px")("height",i.height,"px"),S("swap-ends",i.y<70)("flip",i.x>i.width-40),p(2),R(i.math.round(i.x)))},styles:[".crosshair[_ngcontent-%COMP%]{position:absolute;border:0 solid #33e8d5}.crosshair.horizontal[_ngcontent-%COMP%]{border-top-width:2px;width:100%;top:0}.crosshair.vertical[_ngcontent-%COMP%]{border-left-width:2px;height:100%;top:0}.label[_ngcontent-%COMP%]{position:absolute;background-color:#33e8d5;padding:2px 2px 1px;left:0;top:0}.swap-ends.horizontal[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:auto;right:0}.flip.horizontal[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .swap-ends.vertical[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{top:auto;bottom:0}.flip.vertical[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:auto;right:0}"]})}}return t})();function F(t,o){return{x:t.x+o.x,y:t.y+o.y}}function E(t,o){return{x:t.x-o.x,y:t.y-o.y}}function pe(t){return Object.assign({},t)}function de(t,o){return{x:t(o.x),y:t(o.y)}}function le(t,o,e,n){return e<0&&(e=0),e>t&&(e=t),n<0&&(n=0),n>o&&(n=o),{x:e,y:n}}function xe(t,o){if(t&1&&l(0,"xy-crosshairs",0),t&2){let e=o;m("x",e.x)("y",e.y)}}function ye(t,o){t&1&&l(0,"xy-box-drag-preview")}function Ce(t,o){if(t&1&&(C(0,xe,1,2,"xy-crosshairs",0),v(1,"async"),a(2,"div"),v(3,"async"),C(4,ye,1,0,"xy-box-drag-preview"),r()),t&2){let e,n,i=h(),d=h();_((e=b(1,4,d.crossStyle$))?0:-1,e),p(2),P(b(3,6,d.movingStyle$)),p(2),_((n=i.itemType)==="SPOT"?4:-1)}}function _e(t,o){t&1&&C(0,Ce,5,8),t&2&&_(o.isDragging?0:-1)}var ce=(()=>{class t{constructor(){this.dnd=u(x),this.el=u(N),this.snapToGrid=!1,this.snappingFunction=y(32),this.moved=new f,this.rect={x:0,y:0,width:0,height:0},this.dragLayer=this.dnd.dragLayer(),this.collect$=this.dragLayer.listen(e=>(this.setWindowRelativeOffset(),{item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging(),initialOffset:this.absToRelative(e.getInitialSourceClientOffset()),currentOffset:this.absToRelative(e.getSourceClientOffset())})),this.movingStyle$=this.collect$.pipe(I(e=>this.getItemStyles(e)),$(e=>e!=null)),this.crossStyle$=this.collect$.pipe(I(e=>this.getCrosshairStyles(e)),$(e=>e!=null))}set incrementPx(e){this.snappingFunction=y(e)}absToRelative(e){return e&&E(e,this.rect)}setWindowRelativeOffset(){let e=this.el.nativeElement.getBoundingClientRect();this.rect={x:e.left,y:e.top,width:e.width,height:e.height}}getXY(e,n,i,d=!1){let s=pe(i),T=E(i,n);if(this.snapToGrid&&(s=E(s,n),s=this.snappingFunction(s),T=s,s=F(s,n)),e.fromCube){let fe=F(e,E(T,{x:16,y:16})),V=this.getClippedOffset(fe);return d&&this.moved.emit(V),V}let j=this.getClippedOffset(s);return d&&this.moved.emit(j),j}getClippedOffset(e){let n=F(e,{x:16,y:16});return le(this.rect.width,this.rect.height,n.x,n.y)}getItemStyles({item:e,initialOffset:n,currentOffset:i}){if(!n||!i)return{display:"none"};let{x:d,y:s}=this.getXY(e,n,i,!0),T=`translate3d(${d}px, ${s}px, 0)`;return{transform:T,WebkitTransform:T}}getCrosshairStyles({item:e,initialOffset:n,currentOffset:i}){if(!n||!i)return null;let d=this.getXY(e,n,i);return de(Math.round,d)}ngAfterViewInit(){this.setWindowRelativeOffset()}ngOnDestroy(){this.dragLayer.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=c({type:t,selectors:[["xy-custom-drag-layer"]],inputs:{snapToGrid:"snapToGrid",incrementPx:"incrementPx"},outputs:{moved:"moved"},decls:2,vars:3,consts:[[3,"x","y"]],template:function(n,i){if(n&1&&(C(0,_e,1,1),v(1,"async")),n&2){let d;_((d=b(1,1,i.collect$))?0:-1,d)}},dependencies:[B,se,k],styles:["[_nghost-%COMP%]{display:block;position:absolute;pointer-events:none;z-index:9000;left:0;top:0;width:100%;height:100%}"],changeDetection:0})}}return t})();function ve(t,o){if(t&1&&l(0,"xy-crosshairs",3),t&2){let e=h();m("x",e.spot.x)("y",e.spot.y)}}var me=(()=>{class t{constructor(){this.dnd=u(x),this.endDrag=new f,this.source=this.dnd.dragSource("SPOT",{beginDrag:()=>this.spot,isDragging:()=>!0,endDrag:()=>{this.endDrag.emit(this.spot)}}),this.isDragging$=this.source.listen(e=>e.isDragging())}ngOnInit(){this.source.connectDragPreview(U(),{captureDraggingState:!0})}ngOnDestroy(){this.source.unsubscribe()}getStyles(){}getRootStyles(e){let{x:n,y:i}=this.spot,d=`translate3d(${n}px, ${i}px, 0)`;return{position:"relative",marginLeft:"-16px",marginTop:"-16px",transform:d,WebkitTransform:d,opacity:e?0:null,height:e?0:null}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=c({type:t,selectors:[["xy-draggable-box"]],inputs:{spot:"spot"},outputs:{endDrag:"endDrag"},decls:7,vars:8,consts:[[1,"root",3,"dragSource"],[1,"draggable-node"],[1,"fullsize"],[3,"x","y"]],template:function(n,i){n&1&&(a(0,"div",0),v(1,"async"),a(2,"div",1),l(3,"xy-box"),r(),l(4,"div",2),r(),C(5,ve,1,2,"xy-crosshairs",3),v(6,"async")),n&2&&(P(i.getRootStyles(b(1,4,i.isDragging$))),m("dragSource",i.source),p(5),_(b(6,6,i.isDragging$)!==!0?5:-1))},dependencies:[w,G,L,B,k],styles:[".root[_ngcontent-%COMP%]{cursor:move}xy-crosshairs[_ngcontent-%COMP%], .draggable-node[_ngcontent-%COMP%]{pointer-events:none;position:absolute}xy-crosshairs[_ngcontent-%COMP%]{margin-top:16px}.fullsize[_ngcontent-%COMP%]{position:absolute;left:-400px;top:-400px;width:800px;height:800px}"],changeDetection:0})}}return t})();function be(t,o){if(t&1&&l(0,"div",7),t&2){let e=o.$implicit,n=h();D("top",n.px*e-1,"px")}}function Me(t,o){if(t&1&&l(0,"div",8),t&2){let e=o.$implicit,n=h();D("left",n.px*e-1,"px")}}var ge=(()=>{class t{get spot(){return{id:23,x:this.x,y:this.y}}set incrementPx(e){this.px=e,this.snappingFunction=y(e),this.setGridlines()}constructor(){this.dnd=u(x),this.x=50,this.y=100,this.endDrag=new f,this.moved=new f,this.snapToGrid=!1,this.px=32,this.snappingFunction=y(this.px),this.gridlines=[],this.boxTarget=this.dnd.dropTarget("BOX",{}),this.incrementPx=25}emitEach(e){this.moved.emit(e)}dragEnded(e){this.endDrag.emit()}ngOnDestroy(){this.boxTarget.unsubscribe()}setGridlines(){this.gridlines=new Array(Math.floor(400/this.px)-1).fill(0).map((e,n)=>n+1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=c({type:t,selectors:[["xy-drag-container"]],inputs:{x:"x",y:"y",snapToGrid:"snapToGrid",incrementPx:"incrementPx"},outputs:{endDrag:"endDrag",moved:"moved"},decls:9,vars:4,consts:[[1,"glow"],[1,"scanline"],[1,"square",3,"dropTarget"],[1,"gridline","horizontal",3,"top"],[1,"gridline","vertical",3,"left"],[3,"endDrag","spot"],[3,"moved","snapToGrid","incrementPx"],[1,"gridline","horizontal"],[1,"gridline","vertical"]],template:function(n,i){n&1&&(l(0,"div",0)(1,"div",1),a(2,"div",2),W(3,be,1,2,"div",3,z),W(5,Me,1,2,"div",4,z),a(7,"xy-draggable-box",5),O("endDrag",function(s){return i.dragEnded(s)}),r()(),a(8,"xy-custom-drag-layer",6),O("moved",function(s){return i.emitEach(s)}),r()),n&2&&(p(2),m("dropTarget",i.boxTarget),p(),X(i.gridlines),p(2),X(i.gridlines),p(2),m("spot",i.spot),p(),m("snapToGrid",i.snapToGrid)("incrementPx",i.px))},dependencies:[w,H,me,ce],styles:['[_nghost-%COMP%]{display:block;position:relative;width:400px;height:400px;box-sizing:content-box;overflow:hidden;background:#153242;border-radius:25px;border:12px solid black}.square[_ngcontent-%COMP%]{position:relative;z-index:3000;left:0;top:0;width:100%;height:100%;box-sizing:border-box;overflow:hidden}.gridline[_ngcontent-%COMP%]{position:absolute;border:0 solid rgb(18.3392070485,162.6607929515,147.5110132159)}.gridline.horizontal[_ngcontent-%COMP%]{border-top-width:1px;left:0;width:100%}.gridline.vertical[_ngcontent-%COMP%]{border-left-width:1px;top:0;height:100%}.scanline[_ngcontent-%COMP%]:before{pointer-events:none;content:"";position:absolute;top:0;width:100%;height:5px;background:#fff;background:linear-gradient(to bottom,#f000,snow 50%,#fffffffa 51%,#f000);opacity:.1;animation:_ngcontent-%COMP%_vline 3.25s linear infinite}.scanline[_ngcontent-%COMP%]:after{box-shadow:0 2px 6px #19191933,inset 0 1px #3232321a,inset 0 3px #3232320d,inset 0 3px 8px #4040400d,inset 0 -5px 10px #1919191a}@keyframes _ngcontent-%COMP%_vline{0%{top:-30%}to{top:100%}}.glow[_ngcontent-%COMP%]{pointer-events:none;height:100%;width:100%;left:0;top:0;position:absolute;box-shadow:inset 0 0 1px 1px #4040401a;background:radial-gradient(ellipse at center,#0d756a,#40404000 90%);transform-origin:50% 50%;transform:perspective(20px) rotateX(.5deg) skew(2deg) scale(1.03);animation:_ngcontent-%COMP%_glitch 1s linear infinite;opacity:.9}.glow[_ngcontent-%COMP%]:after{background:radial-gradient(ellipse at center,#00000080,#40404000);opacity:.1}@keyframes _ngcontent-%COMP%_glitch{0%{transform:scaleY(1.002)}50%{transform:scaleY(1.0001)}to{transform:scaleX(1.001)}}']})}}return t})();var ue=(()=>{class t{constructor(){this.x=225,this.y=225,this.latestLocation={x:this.x,y:this.y},this._snapToGrid=!1,this._pixels=25}get snapToGrid(){return this._snapToGrid}set snapToGrid(e){this._snapToGrid=e,e&&this.snapOnce()}get pixels(){return this._pixels}set pixels(e){e>2&&(this._pixels=e,this.snapOnce())}snapOnce(){let e=y(this.pixels)({x:this.x,y:this.y});this.x=e.x||0,this.y=e.y||0,this.latestLocation=e}dragEnded(){this.x=this.latestLocation.x,this.y=this.latestLocation.y}get cubeTransform(){let n=-(this.latestLocation.y-200)/200*180,i=(this.latestLocation.x-200)/200*180;return`translateZ(-100px) rotateX(${n}deg) rotateY(${i}deg)`}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=c({type:t,selectors:[["xy-drag-layer-container"]],decls:14,vars:9,consts:[["path","xy-pad"],[1,"flex"],[3,"endDrag","moved","x","y","snapToGrid","incrementPx"],["type","checkbox",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"pad"],[3,"endDrag","transform","x","y"]],template:function(n,i){n&1&&(l(0,"app-example-link",0),a(1,"div",1)(2,"div")(3,"xy-drag-container",2),O("endDrag",function(){return i.dragEnded()})("moved",function(s){return i.latestLocation=s}),r(),a(4,"p")(5,"label")(6,"input",3),A("ngModelChange",function(s){return Z(i.snapToGrid,s)||(i.snapToGrid=s),s}),r(),g(7," Snap to grid "),r()(),a(8,"p")(9,"label")(10,"input",4),A("ngModelChange",function(s){return Z(i.pixels,s)||(i.pixels=s),s}),r(),g(11," Pixels per gridline "),r()()(),a(12,"div",5)(13,"xy-cube",6),O("endDrag",function(){return i.dragEnded()}),r()()()),n&2&&(p(3),m("x",i.x)("y",i.y)("snapToGrid",i.snapToGrid)("incrementPx",i.pixels),p(3),Y("ngModel",i.snapToGrid),p(4),Y("ngModel",i.pixels),p(3),m("transform",i.cubeTransform)("x",i.x)("y",i.y))},dependencies:[J,ge,oe,Q,ne,K,ee,ie,te,ae],styles:[".flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.pad[_ngcontent-%COMP%]{padding:80px}"]})}}return t})();var Mt=[{path:"",component:ue}];export{Mt as routes};
