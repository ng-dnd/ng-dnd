import{a as ee,b as te,d as ne,h as ie,j as oe,m as re,n as ae}from"./chunk-JXOD6KF3.js";import{b as K}from"./chunk-SDQHVLFJ.js";import{a as Q}from"./chunk-HQODWAYX.js";import{$a as _,Ab as Y,E as z,Ea as f,Eb as Z,Fb as A,Gb as j,Ha as H,Ib as g,Lb as U,Nb as b,Ob as M,Qa as p,Ra as h,bb as m,cb as P,db as E,eb as O,hb as v,ib as W,jb as X,kb as R,lb as a,mb as r,mc as G,na as c,nb as l,qb as w,rb as x,sc as J,tc as F,w as $,xc as T,zb as u,zc as y}from"./chunk-NAC6KBNY.js";var ye=(n,o)=>({transform:n,WebkitTransform:o}),pe=(()=>{class n{constructor(e){this.dnd=e,this.transform="",this.endDrag=new f,this.source=this.dnd.dragSource("SPOT",{beginDrag:()=>({id:123,x:this.x,y:this.y,fromCube:!0}),endDrag:i=>{this.endDrag.emit()}})}static{this.\u0275fac=function(i){return new(i||n)(h(y))}}static{this.\u0275cmp=c({type:n,selectors:[["xy-cube"]],inputs:{transform:"transform",x:"x",y:"y"},outputs:{endDrag:"endDrag"},standalone:!0,features:[g],decls:14,vars:7,consts:[[1,"container",3,"dragSource","noHTML5Preview"],["id","cube"],[1,"front"],[1,"back"],[1,"right"],[1,"left"],[1,"top"],[1,"bottom"]],template:function(i,t){i&1&&(a(0,"section",0)(1,"div",1)(2,"figure",2),u(3,"1"),r(),a(4,"figure",3),u(5,"2"),r(),a(6,"figure",4),u(7,"3"),r(),a(8,"figure",5),u(9,"4"),r(),a(10,"figure",6),u(11,"5"),r(),a(12,"figure",7),u(13,"6"),r()()()),i&2&&(m("dragSource",t.source)("noHTML5Preview",!0),p(),O(U(4,ye,t.transform,t.transform)))},dependencies:[T,F],styles:[".container[_ngcontent-%COMP%]{width:200px;height:200px;position:relative;perspective:1000px}#cube[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transform-style:preserve-3d}#cube[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:0;width:196px;height:196px;display:block;position:absolute;border:2px solid black;font-size:68px;text-align:center;line-height:196px}#cube[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{transform:rotateY(0) translateZ(100px);background:#225378}#cube[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{transform:rotateX(180deg) translateZ(100px);background:#1695a3}#cube[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{transform:rotateY(90deg) translateZ(100px);background:#acf0f2}#cube[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{transform:rotateY(-90deg) translateZ(100px);background:#f3ffe2}#cube[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{transform:rotateX(90deg) translateZ(100px);background:#eb7f00}#cube[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{transform:rotateX(-90deg) translateZ(100px);background:#b0121b}"]})}}return n})();function C(n){return o=>{let e=Math.round(o.x/n)*n,i=Math.round(o.y/n)*n;return{x:e,y:i}}}var L=(()=>{class n{constructor(){this.compensate=!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c({type:n,selectors:[["xy-box"]],inputs:{compensate:"compensate"},standalone:!0,features:[g],decls:1,vars:2,consts:[[1,"spot"]],template:function(i,t){i&1&&l(0,"div",0),i&2&&E("compensate",t.compensate)},styles:[".spot[_ngcontent-%COMP%]{background:#33e8d5;box-shadow:0 0 8px #33e8d5;cursor:move;padding:16px;border-radius:16px}.compensate[_ngcontent-%COMP%]{margin-left:-16px;margin-top:-16px}"]})}}return n})();var de=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c({type:n,selectors:[["xy-box-drag-preview"]],standalone:!0,features:[g],decls:2,vars:1,consts:[[1,"phresh"],[3,"compensate"]],template:function(i,t){i&1&&(a(0,"div",0),l(1,"xy-box",1),r()),i&2&&(p(),m("compensate",!1))},dependencies:[L],styles:["[_nghost-%COMP%]{display:inline-block}@keyframes _ngcontent-%COMP%_animatedBackground{0%{background:#40a096cc}to{background:#40a09633}}.phresh[_ngcontent-%COMP%]{overflow:auto;margin-left:-32px;margin-top:-32px;padding:16px;border-radius:32px;animation-name:_ngcontent-%COMP%_animatedBackground;animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-direction:alternate}"]})}}return n})();var I=(()=>{class n{constructor(){this.math=Math,this.width=400,this.height=400}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c({type:n,selectors:[["xy-crosshairs"]],inputs:{x:"x",y:"y",width:"width",height:"height"},standalone:!0,features:[g],decls:6,vars:18,consts:[[1,"crosshair","horizontal"],[1,"label"],[1,"crosshair","vertical"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"span",1),u(2),r()(),a(3,"div",2)(4,"span",1),u(5),r()()),i&2&&(P("top",t.y-1,"px")("width",t.width,"px"),E("swap-ends",t.x<70)("flip",t.y>t.height-30),p(2),Y(t.math.round(t.y)),p(),P("left",t.x-1,"px")("height",t.height,"px"),E("swap-ends",t.y<70)("flip",t.x>t.width-40),p(2),Y(t.math.round(t.x)))},styles:[".crosshair[_ngcontent-%COMP%]{position:absolute;border:0 solid #33e8d5}.crosshair.horizontal[_ngcontent-%COMP%]{border-top-width:2px;width:100%;top:0}.crosshair.vertical[_ngcontent-%COMP%]{border-left-width:2px;height:100%;top:0}.label[_ngcontent-%COMP%]{position:absolute;background-color:#33e8d5;padding:2px 2px 1px;left:0;top:0}.swap-ends.horizontal[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:auto;right:0}.flip.horizontal[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .swap-ends.vertical[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{top:auto;bottom:0}.flip.vertical[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{left:auto;right:0}"]})}}return n})();function B(n,o){return{x:n.x+o.x,y:n.y+o.y}}function k(n,o){return{x:n.x-o.x,y:n.y-o.y}}function le(n){return Object.assign({},n)}function ce(n,o){return{x:n(o.x),y:n(o.y)}}function me(n,o,e,i){return e<0&&(e=0),e>n&&(e=n),i<0&&(i=0),i>o&&(i=o),{x:e,y:i}}function Ce(n,o){if(n&1&&l(0,"xy-crosshairs",1),n&2){let e=o;m("x",e.x)("y",e.y)}}function _e(n,o){n&1&&l(0,"xy-box-drag-preview")}function ve(n,o){if(n&1&&(_(0,Ce,1,2,"xy-crosshairs",1),b(1,"async"),a(2,"div"),b(3,"async"),_(4,_e,1,0,"xy-box-drag-preview"),r()),n&2){let e,i,t=x(),d=x();v((e=M(1,4,d.crossStyle$))?0:-1,e),p(2),O(M(3,6,d.movingStyle$)),p(2),v((i=t.itemType)==="SPOT"?4:-1)}}function be(n,o){n&1&&_(0,ve,5,8,"div",0),n&2&&v(o.isDragging?0:-1)}var ge=(()=>{class n{set incrementPx(e){this.snappingFunction=C(e)}constructor(e,i){this.dnd=e,this.el=i,this.snapToGrid=!1,this.snappingFunction=C(32),this.moved=new f,this.rect={x:0,y:0,width:0,height:0},this.dragLayer=this.dnd.dragLayer(),this.collect$=this.dragLayer.listen(t=>(this.setWindowRelativeOffset(),{item:t.getItem(),itemType:t.getItemType(),isDragging:t.isDragging(),initialOffset:this.absToRelative(t.getInitialSourceClientOffset()),currentOffset:this.absToRelative(t.getSourceClientOffset())})),this.movingStyle$=this.collect$.pipe($(t=>this.getItemStyles(t)),z(t=>t!=null)),this.crossStyle$=this.collect$.pipe($(t=>this.getCrosshairStyles(t)),z(t=>t!=null))}absToRelative(e){return e&&k(e,this.rect)}setWindowRelativeOffset(){let e=this.el.nativeElement.getBoundingClientRect();this.rect={x:e.left,y:e.top,width:e.width,height:e.height}}getXY(e,i,t,d=!1){let s=le(t),S=k(t,i);if(this.snapToGrid&&(s=k(s,i),s=this.snappingFunction(s),S=s,s=B(s,i)),e.fromCube){let xe=B(e,k(S,{x:16,y:16})),q=this.getClippedOffset(xe);return d&&this.moved.emit(q),q}let N=this.getClippedOffset(s);return d&&this.moved.emit(N),N}getClippedOffset(e){let i=B(e,{x:16,y:16});return me(this.rect.width,this.rect.height,i.x,i.y)}getItemStyles({item:e,initialOffset:i,currentOffset:t}){if(!i||!t)return{display:"none"};let{x:d,y:s}=this.getXY(e,i,t,!0),S=`translate3d(${d}px, ${s}px, 0)`;return{transform:S,WebkitTransform:S}}getCrosshairStyles({item:e,initialOffset:i,currentOffset:t}){if(!i||!t)return null;let d=this.getXY(e,i,t);return ce(Math.round,d)}ngAfterViewInit(){this.setWindowRelativeOffset()}ngOnDestroy(){this.dragLayer.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(h(y),h(H))}}static{this.\u0275cmp=c({type:n,selectors:[["xy-custom-drag-layer"]],inputs:{snapToGrid:"snapToGrid",incrementPx:"incrementPx"},outputs:{moved:"moved"},standalone:!0,features:[g],decls:2,vars:3,consts:[[3,"style"],[3,"x","y"]],template:function(i,t){if(i&1&&(_(0,be,1,1),b(1,"async")),i&2){let d;v((d=M(1,1,t.collect$))?0:-1,d)}},dependencies:[I,de,G],styles:["[_nghost-%COMP%]{display:block;position:absolute;pointer-events:none;z-index:9000;left:0;top:0;width:100%;height:100%}"],changeDetection:0})}}return n})();function Me(n,o){if(n&1&&l(0,"xy-crosshairs",3),n&2){let e=x();m("x",e.spot.x)("y",e.spot.y)}}var ue=(()=>{class n{constructor(e){this.dnd=e,this.endDrag=new f,this.source=this.dnd.dragSource("SPOT",{beginDrag:()=>this.spot,isDragging:()=>!0,endDrag:()=>{this.endDrag.emit(this.spot)}}),this.isDragging$=this.source.listen(i=>i.isDragging())}ngOnInit(){this.source.connectDragPreview(K(),{captureDraggingState:!0})}ngOnDestroy(){this.source.unsubscribe()}getStyles(){}getRootStyles(e){let{x:i,y:t}=this.spot,d=`translate3d(${i}px, ${t}px, 0)`;return{position:"relative",marginLeft:"-16px",marginTop:"-16px",transform:d,WebkitTransform:d,opacity:e?0:null,height:e?0:null}}static{this.\u0275fac=function(i){return new(i||n)(h(y))}}static{this.\u0275cmp=c({type:n,selectors:[["xy-draggable-box"]],inputs:{spot:"spot"},outputs:{endDrag:"endDrag"},standalone:!0,features:[g],decls:7,vars:8,consts:[[1,"root",3,"dragSource"],[1,"draggable-node"],[1,"fullsize"],[3,"x","y"]],template:function(i,t){i&1&&(a(0,"div",0),b(1,"async"),a(2,"div",1),l(3,"xy-box"),r(),l(4,"div",2),r(),_(5,Me,1,2,"xy-crosshairs",3),b(6,"async")),i&2&&(O(t.getRootStyles(M(1,4,t.isDragging$))),m("dragSource",t.source),p(5),v(M(6,6,t.isDragging$)!==!0?5:-1))},dependencies:[T,F,L,I,G],styles:[".root[_ngcontent-%COMP%]{cursor:move}xy-crosshairs[_ngcontent-%COMP%], .draggable-node[_ngcontent-%COMP%]{pointer-events:none;position:absolute}xy-crosshairs[_ngcontent-%COMP%]{margin-top:16px}.fullsize[_ngcontent-%COMP%]{position:absolute;left:-400px;top:-400px;width:800px;height:800px}"],changeDetection:0})}}return n})();function De(n,o){if(n&1&&l(0,"div",7),n&2){let e=o.$implicit,i=x();P("top",i.px*e-1,"px")}}function Pe(n,o){if(n&1&&l(0,"div",8),n&2){let e=o.$implicit,i=x();P("left",i.px*e-1,"px")}}var fe=(()=>{class n{get spot(){return{id:23,x:this.x,y:this.y}}set incrementPx(e){this.px=e,this.snappingFunction=C(e),this.setGridlines()}constructor(e){this.dnd=e,this.x=50,this.y=100,this.endDrag=new f,this.moved=new f,this.snapToGrid=!1,this.px=32,this.snappingFunction=C(this.px),this.gridlines=[],this.boxTarget=this.dnd.dropTarget("BOX",{}),this.incrementPx=25}emitEach(e){this.moved.emit(e)}dragEnded(e){this.endDrag.emit()}ngOnDestroy(){this.boxTarget.unsubscribe()}setGridlines(){this.gridlines=new Array(Math.floor(400/this.px)-1).fill(0).map((e,i)=>i+1)}static{this.\u0275fac=function(i){return new(i||n)(h(y))}}static{this.\u0275cmp=c({type:n,selectors:[["xy-drag-container"]],inputs:{x:"x",y:"y",snapToGrid:"snapToGrid",incrementPx:"incrementPx"},outputs:{endDrag:"endDrag",moved:"moved"},standalone:!0,features:[g],decls:9,vars:4,consts:[[1,"glow"],[1,"scanline"],[1,"square",3,"dropTarget"],[1,"gridline","horizontal",3,"top"],[1,"gridline","vertical",3,"left"],[3,"endDrag","spot"],[3,"moved","snapToGrid","incrementPx"],[1,"gridline","horizontal"],[1,"gridline","vertical"]],template:function(i,t){i&1&&(l(0,"div",0)(1,"div",1),a(2,"div",2),X(3,De,1,2,"div",3,W),X(5,Pe,1,2,"div",4,W),a(7,"xy-draggable-box",5),w("endDrag",function(s){return t.dragEnded(s)}),r()(),a(8,"xy-custom-drag-layer",6),w("moved",function(s){return t.emitEach(s)}),r()),i&2&&(p(2),m("dropTarget",t.boxTarget),p(),R(t.gridlines),p(2),R(t.gridlines),p(2),m("spot",t.spot),p(),m("snapToGrid",t.snapToGrid)("incrementPx",t.px))},dependencies:[T,J,ue,ge],styles:['[_nghost-%COMP%]{display:block;position:relative;width:400px;height:400px;box-sizing:content-box;overflow:hidden;background:#153242;border-radius:25px;border:12px solid black}.square[_ngcontent-%COMP%]{position:relative;z-index:3000;left:0;top:0;width:100%;height:100%;box-sizing:border-box;overflow:hidden}.gridline[_ngcontent-%COMP%]{position:absolute;border:0 solid #12a394}.gridline.horizontal[_ngcontent-%COMP%]{border-top-width:1px;left:0;width:100%}.gridline.vertical[_ngcontent-%COMP%]{border-left-width:1px;top:0;height:100%}.scanline[_ngcontent-%COMP%]:before{pointer-events:none;content:"";position:absolute;top:0;width:100%;height:5px;background:#fff;background:linear-gradient(to bottom,#f000,snow 50%,#fffffffa 51%,#f000);opacity:.1;animation:_ngcontent-%COMP%_vline 3.25s linear infinite}.scanline[_ngcontent-%COMP%]:after{box-shadow:0 2px 6px #19191933,inset 0 1px #3232321a,inset 0 3px #3232320d,inset 0 3px 8px #4040400d,inset 0 -5px 10px #1919191a}@keyframes _ngcontent-%COMP%_vline{0%{top:-30%}to{top:100%}}.glow[_ngcontent-%COMP%]{pointer-events:none;height:100%;width:100%;left:0;top:0;position:absolute;box-shadow:inset 0 0 1px 1px #4040401a;background:radial-gradient(ellipse at center,#0d756a,#40404000 90%);transform-origin:50% 50%;transform:perspective(20px) rotateX(.5deg) skew(2deg) scale(1.03);animation:_ngcontent-%COMP%_glitch 1s linear infinite;opacity:.9}.glow[_ngcontent-%COMP%]:after{background:radial-gradient(ellipse at center,#00000080,#40404000);opacity:.1}@keyframes _ngcontent-%COMP%_glitch{0%{transform:scaleY(1.002)}50%{transform:scaleY(1.0001)}to{transform:scaleX(1.001)}}']})}}return n})();var he=(()=>{class n{constructor(){this.x=225,this.y=225,this.latestLocation={x:this.x,y:this.y},this._snapToGrid=!1,this._pixels=25}get snapToGrid(){return this._snapToGrid}set snapToGrid(e){this._snapToGrid=e,e&&this.snapOnce()}get pixels(){return this._pixels}set pixels(e){e>2&&(this._pixels=e,this.snapOnce())}snapOnce(){let e=C(this.pixels)({x:this.x,y:this.y});this.x=e.x||0,this.y=e.y||0,this.latestLocation=e}dragEnded(){this.x=this.latestLocation.x,this.y=this.latestLocation.y}get cubeTransform(){let i=-(this.latestLocation.y-200)/200*180,t=(this.latestLocation.x-200)/200*180;return`translateZ(-100px) rotateX(${i}deg) rotateY(${t}deg)`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c({type:n,selectors:[["xy-drag-layer-container"]],standalone:!0,features:[g],decls:14,vars:9,consts:[["path","xy-pad"],[1,"flex"],[3,"endDrag","moved","x","y","snapToGrid","incrementPx"],["type","checkbox",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"pad"],[3,"endDrag","transform","x","y"]],template:function(i,t){i&1&&(l(0,"app-example-link",0),a(1,"div",1)(2,"div")(3,"xy-drag-container",2),w("endDrag",function(){return t.dragEnded()})("moved",function(s){return t.latestLocation=s}),r(),a(4,"p")(5,"label")(6,"input",3),j("ngModelChange",function(s){return A(t.snapToGrid,s)||(t.snapToGrid=s),s}),r(),u(7," Snap to grid "),r()(),a(8,"p")(9,"label")(10,"input",4),j("ngModelChange",function(s){return A(t.pixels,s)||(t.pixels=s),s}),r(),u(11," Pixels per gridline "),r()()(),a(12,"div",5)(13,"xy-cube",6),w("endDrag",function(){return t.dragEnded()}),r()()()),i&2&&(p(3),m("x",t.x)("y",t.y)("snapToGrid",t.snapToGrid)("incrementPx",t.pixels),p(3),Z("ngModel",t.snapToGrid),p(4),Z("ngModel",t.pixels),p(3),m("transform",t.cubeTransform)("x",t.x)("y",t.y))},dependencies:[Q,fe,ae,te,oe,ee,ne,re,ie,pe],styles:[".flex[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.pad[_ngcontent-%COMP%]{padding:80px}"]})}}return n})();var Dt=[{path:"",component:he}];export{Dt as routes};
