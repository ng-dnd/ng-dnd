import{e as R,f as N}from"./chunk-LTS3YFHG.js";import"./chunk-SDQHVLFJ.js";import{a as j}from"./chunk-HQODWAYX.js";import{$a as d,Ab as b,Bb as P,Db as V,Ib as l,Jb as w,Nb as f,Ob as y,Qa as p,Ra as v,bb as s,db as x,eb as B,hb as T,lb as i,mb as r,mc as E,na as c,nb as m,nc as A,pb as D,qb as S,rb as h,sc as L,tc as $,wa as I,xa as C,xc as M,ya as _,zb as a,zc as O}from"./chunk-NAC6KBNY.js";function K(e,g){if(e&1){let n=D();i(0,"div",1)(1,"p")(2,"b"),a(3),r()(),i(4,"p")(5,"button",2),S("click",function(){C(n);let o=h();return _(o.empty())}),a(6),r()(),i(7,"pre"),a(8),f(9,"json"),r()()}if(e&2){let n=g,t=h();B(t.getStyles(n)),s("dropTarget",t.trashTarget),p(3),V(" ",n.canDrop?"drop "+n.itemType+" in the":""," ",n.isOver&&!t.hasCapacity?"cannot drop, ":""," ",t.name," ",t.hasCapacity?"":" is full!"," "),p(3),P("empty ",t.name,""),p(2),b(y(9,9,t.trashes))}}var H=(()=>{class e{get hasCapacity(){return this.trashes.length<this.capacity}constructor(n){this.dnd=n,this.name="",this.accepts=["TRASH"],this.trashes=[],this.capacity=6,this.trashTarget=this.dnd.dropTarget(null,{canDrop:t=>this.hasCapacity,drop:t=>{let o=t.getItemType();this.trashes.unshift(o)}}),this.collected$=this.trashTarget.listen(t=>({isOver:t.isOver(),canDrop:t.canDrop(),itemType:t.getItemType()}))}getStyles({isOver:n,canDrop:t}){return{backgroundColor:n&&t?"#cfcffc":t?"#fffacf":"white"}}empty(){this.trashes=[]}ngOnInit(){this.trashTarget.setTypes(this.accepts)}ngOnDestroy(){this.trashTarget.unsubscribe()}static{this.\u0275fac=function(t){return new(t||e)(v(O))}}static{this.\u0275cmp=c({type:e,selectors:[["app-bin"]],inputs:{name:"name",accepts:"accepts"},standalone:!0,features:[l],decls:2,vars:3,consts:[[1,"dustbin","pad",3,"dropTarget","style"],[1,"dustbin","pad",3,"dropTarget"],[3,"click"]],template:function(t,o){if(t&1&&(d(0,K,10,11,"div",0),f(1,"async")),t&2){let u;T((u=y(1,1,o.collected$))?0:-1,u)}},dependencies:[M,L,E,A],encapsulation:2})}}return e})();var F=(()=>{class e{constructor(){this.type="",this.empty=!1,this.inFlight=!1}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=c({type:e,selectors:[["app-trash"]],inputs:{type:"type",empty:"empty",inFlight:"inFlight"},standalone:!0,features:[l],decls:3,vars:5,consts:[[1,"trash","pad"],[1,"type"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"span",1),a(2),r()()),t&2&&(x("empty",o.empty)("in-flight",o.inFlight),p(2),b(o.type))},styles:[".trash[_ngcontent-%COMP%]{background:#fcf}.empty[_ngcontent-%COMP%]{background:#eee}.empty[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{visibility:hidden}.in-flight[_ngcontent-%COMP%]{width:100px;background-clip:padding-box;border:2px solid rgba(0,0,0,.1)}"],changeDetection:0})}}return e})();function Q(e,g){if(e&1){let n=D();i(0,"p")(1,"button",0),S("click",function(){C(n);let o=h();return _(o.litter())}),a(2,"add more"),r(),i(3,"span"),a(4),r()(),i(5,"div",1),m(6,"app-trash",2),r()}if(e&2){let n=g,t=h();p(4),P("(",t.remain," left)"),p(),x("dragging",n.isDragging&&t.remain>1),s("dragSource",t.trashSource),p(),s("type",t.type)("empty",t.remain===0||n.isDragging&&t.remain===1)}}var J=(()=>{class e{constructor(n){this.dnd=n,this.type="",this.remain=5,this.count=0,this.trashSource=this.dnd.dragSource(null,{canDrag:t=>this.remain>0,beginDrag:t=>({count:this.count++}),endDrag:t=>{t.didDrop()&&this.remain--}}),this.isDragging$=this.trashSource.listen(t=>t.isDragging()),this.collected$=this.trashSource.listen(t=>({isDragging:t.isDragging(),canDrag:t.canDrag(),itemType:t.getItemType()}))}ngOnChanges(){this.trashSource.setType(this.type)}ngOnDestroy(){this.trashSource.unsubscribe()}litter(){this.remain+=5}static{this.\u0275fac=function(t){return new(t||e)(v(O))}}static{this.\u0275cmp=c({type:e,selectors:[["app-trash-pile"]],inputs:{type:"type"},standalone:!0,features:[I,l],decls:2,vars:3,consts:[[3,"click"],[3,"dragSource"],[3,"type","empty"]],template:function(t,o){if(t&1&&(d(0,Q,7,6),f(1,"async")),t&2){let u;T((u=y(1,1,o.collected$))?0:-1,u)}},dependencies:[M,$,F,E]})}}return e})();var U=()=>["PAPER","ENVELOPE"],W=()=>["PARCEL","ENVELOPE"];function X(e,g){if(e&1&&m(0,"app-trash",7),e&2){let n=g.$implicit;s("type",n)("inFlight",!0)}}var q=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=c({type:e,selectors:[["ng-component"]],standalone:!0,features:[l],decls:19,vars:4,consts:[["path","bins"],[1,"bins"],["type","PAPER"],["type","ENVELOPE"],["type","PARCEL"],["name","recycle",3,"accepts"],["name","mailbox",3,"accepts"],[3,"type","inFlight"]],template:function(t,o){t&1&&(m(0,"app-example-link",0),i(1,"p"),a(2,"This example demonstrates:"),r(),i(3,"ul")(4,"li"),a(5,"Making components conditionally draggable"),r(),i(6,"li"),a(7,"Making targets conditionally available for drops"),r(),i(8,"li"),a(9,"How drop targets can accept different item types"),r()(),i(10,"dnd-preview"),d(11,X,1,2,"ng-template"),r(),i(12,"div",1),m(13,"app-trash-pile",2)(14,"app-trash-pile",3)(15,"app-trash-pile",4),r(),i(16,"div",1),m(17,"app-bin",5)(18,"app-bin",6),r()),t&2&&(p(17),s("accepts",w(2,U)),p(),s("accepts",w(3,W)))},dependencies:[N,R,j,F,J,H],styles:[".bins[_ngcontent-%COMP%]{margin-top:20px;display:flex}.bins[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;min-width:100px}.bins[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:4px}"]})}}return e})();var gt=[{path:"",component:q}];export{gt as routes};
