import{b as k}from"./chunk-AZZEJM65.js";import{a as P}from"./chunk-T55MMTBF.js";import{E as S,Eb as B,Fb as w,Pa as a,Rb as u,Sb as y,Ya as r,ab as C,gb as p,ja as d,jb as l,lc as D,mb as x,qb as s,rb as m,sb as c,sc as I,tc as O,w as T,wb as v,xc as b,zc as g}from"./chunk-C7W2QAC5.js";var _=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=r({type:n,selectors:[["app-box"]],inputs:{title:"title"},decls:2,vars:1,template:function(e,i){e&1&&(s(0,"div"),B(1),m()),e&2&&(a(),w(i.title))},styles:["div[_ngcontent-%COMP%]{border:1px dashed grey;cursor:move;padding:.5rem 1rem}"]})}}return n})();var L=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=r({type:n,selectors:[["app-box-drag-preview"]],inputs:{title:"title"},decls:2,vars:1,consts:[[1,"phresh"],[3,"title"]],template:function(e,i){e&1&&(s(0,"div",0),c(1,"app-box",1),m()),e&2&&(a(),p("title",i.title))},dependencies:[_],styles:["[_nghost-%COMP%]{display:inline-block}@keyframes _ngcontent-%COMP%_animatedBackground{0%{background:#ff0}to{background:#fff}}.phresh[_ngcontent-%COMP%]{background:#fff;transform:rotate(-10deg);overflow:hidden;animation-name:_ngcontent-%COMP%_animatedBackground;animation-duration:.7s;animation-iteration-count:infinite;animation-timing-function:linear;animation-direction:alternate}"]})}}return n})();function $(n,f){let t=Math.round(n/32)*32,e=Math.round(f/32)*32;return[t,e]}function j(n,f){if(n&1&&c(0,"app-box-drag-preview",1),n&2){let t=v(2);p("title",t.item.title)}}function W(n,f){if(n&1&&(s(0,"div"),u(1,"async"),C(2,j,1,1,"app-box-drag-preview",1),m()),n&2){let t,e=v(),i=v();l(y(1,3,i.forStyle$)),a(2),x((t=e.itemType)==="BOX"?2:-1)}}function z(n,f){n&1&&C(0,W,3,5,"div",0),n&2&&x(f.isDragging?0:-1)}var E=(()=>{class n{constructor(){this.dnd=d(g),this.dragLayer=this.dnd.dragLayer(),this.collect$=this.dragLayer.listen(t=>({item:t.getItem(),itemType:t.getItemType(),isDragging:t.isDragging(),initialOffset:t.getInitialSourceClientOffset(),currentOffset:t.getSourceClientOffset()})),this.forStyle$=this.collect$.pipe(S(t=>t.isDragging),T(t=>this.getItemStyles(t))),this.snapToGrid=!1}ngOnInit(){}ngOnDestroy(){this.dragLayer.unsubscribe()}getItemStyles({initialOffset:t,currentOffset:e}){if(!t||!e)return{display:"none"};let{x:i,y:o}=e;this.snapToGrid&&(i-=t.x,o-=t.y,[i,o]=$(i,o),i+=t.x,o+=t.y);let M=`translate(${i}px, ${o}px)`;return{transform:M,WebkitTransform:M}}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=r({type:n,selectors:[["app-custom-drag-layer"]],decls:2,vars:3,consts:[[3,"style"],[3,"title"]],template:function(e,i){if(e&1&&(C(0,z,1,1),u(1,"async")),e&2){let o;x((o=y(1,1,i.collect$))?0:-1,o)}},dependencies:[L,D],styles:["[_nghost-%COMP%]{display:block;position:fixed;pointer-events:none;z-index:100;left:0;top:0;width:100%;height:100%}"],changeDetection:0})}}return n})();var F=(()=>{class n{constructor(){this.dnd=d(g),this.source=this.dnd.dragSource("BOX",{beginDrag:()=>{let{id:t,title:e,left:i,top:o}=this;return{id:t,title:e,left:i,top:o}}}),this.isDragging$=this.source.listen(t=>t.isDragging())}ngOnInit(){this.source.connectDragPreview(k(),{captureDraggingState:!0})}ngOnDestroy(){this.source.unsubscribe()}getStyles(t){let{left:e,top:i}=this,o=`translate3d(${e}px, ${i}px, 0)`;return{position:"absolute",transform:o,WebkitTransform:o,opacity:t?0:null,height:t?0:null}}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=r({type:n,selectors:[["app-draggable-box"]],inputs:{id:"id",title:"title",left:"left",top:"top"},decls:3,vars:6,consts:[[1,"draggable-box",3,"dragSource"],[3,"title"]],template:function(e,i){e&1&&(s(0,"div",0),u(1,"async"),c(2,"app-box",1),m()),e&2&&(l(i.getStyles(!!y(1,4,i.isDragging$))),p("dragSource",i.source),a(2),p("title",i.title))},dependencies:[b,O,_,D],encapsulation:2,changeDetection:0})}}return n})();var G=(()=>{class n{constructor(){this.dnd=d(g),this.x=30,this.y=90,this.styles={minHeight:"300px",maxWidth:"400px",maxHeight:"400px",width:"100%",height:"100%",boxSizing:"border-box",border:"1px solid black",position:"relative"},this.boxTarget=this.dnd.dropTarget("BOX",{drop:t=>{let e=t.getDifferenceFromInitialOffset(),i=t.getItem();this.moveBox(i.id,i.left+e.x,i.top+e.y)}})}moveBox(t,e,i){this.x=e,this.y=i}ngOnInit(){}ngOnDestroy(){this.boxTarget.unsubscribe()}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=r({type:n,selectors:[["app-drag-container"]],decls:2,vars:6,consts:[[3,"dropTarget"],["title","this box is titled",3,"left","top","id"]],template:function(e,i){e&1&&(s(0,"div",0),c(1,"app-draggable-box",1),m()),e&2&&(l(i.styles),p("dropTarget",i.boxTarget),a(),p("left",i.x)("top",i.y)("id",23))},dependencies:[b,I,F],encapsulation:2})}}return n})();var X=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=r({type:n,selectors:[["app-drag-layer-container"]],decls:3,vars:0,consts:[["path","drag-layer"]],template:function(e,i){e&1&&c(0,"app-example-link",0)(1,"app-custom-drag-layer")(2,"app-drag-container")},dependencies:[P,E,G],encapsulation:2})}}return n})();var Dt=[{path:"",component:X}];export{Dt as routes};
