"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[469],{31469:($,b,i)=>{i.r(b),i.d(b,{routes:()=>L});var w=i(87567),d=i(44387);const l={LIST:"SIMPLE_KANBAN_LIST",CARD:"SIMPLE_KANBAN_CARD"};var p=i(54739),M=i(1574),e=i(81072);let m=(()=>{class n{constructor(){this.preview=!1,this.placeholder=!1}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["kanban-card"]],inputs:{card:"card",preview:"preview",placeholder:"placeholder"},standalone:!0,features:[e.aNF],decls:3,vars:5,consts:[[1,"card"]],template:function(a,r){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.k0s()()),2&a&&(e.AVh("card--preview",r.preview)("card--placeholder",r.placeholder),e.R7$(2),e.JRh(r.card.title))},styles:['[_nghost-%COMP%]{display:block}*[_ngcontent-%COMP%]{box-sizing:border-box}.card[_ngcontent-%COMP%]{padding:8px;border-radius:4px;position:relative;-webkit-user-select:none;user-select:none;background:#fff;box-shadow:0 1px 3px #00000014,0 1px 2px #00000029}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.card--preview[_ngcontent-%COMP%]{transform:rotate(-2deg);width:100%;height:100%;box-shadow:0 8px 16px #00000040,0 6px 6px #00000021}.card--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.card--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.card--placeholder[_ngcontent-%COMP%]:before{content:"";border-radius:4px;background:#00000021;box-shadow:inset 0 3px 7px #00000021,inset 0 1px 3px #00000038;position:absolute;top:0;left:0;width:100%;height:100%}']})}return n})();var u=i(62414),v=i(7335);let h=(()=>{class n{constructor(){this.initialTree=[{id:1,title:"To Do",cards:[{listId:1,id:10,title:"Write a new song"},{listId:1,id:20,title:"Put the lyrics to music"}]},{id:2,title:"Doing",cards:[{listId:2,id:30,title:"Rig up the speakers"}]},{id:3,title:"Done",cards:[]}],this.savedTree=this.initialTree,this.tree=this.initialTree,this.boardSpec={type:l.LIST,trackBy:t=>t.id,hover:t=>{this.tree=this.moveList(t)},drop:t=>{this.tree=this.savedTree=this.moveList(t)},endDrag:t=>{this.tree=this.savedTree}},this.listSpec={type:l.CARD,trackBy:t=>t.id,hover:t=>{this.tree=this.moveCard(t)},drop:t=>{this.tree=this.savedTree=this.moveCard(t)},endDrag:t=>{this.tree=this.savedTree}}}moveList(t){return(0,v.jM)(this.savedTree,a=>{t.isInternal&&a.splice(t.index,1),a.splice(t.hover.index,0,t.data)})}moveCard(t){return(0,v.jM)(this.savedTree,a=>{const{listId:r,index:o}=t,{listId:c,index:k}=t.hover;console.info("from",r,o,"to",c,k);const _=a.find(g=>g.id===r),T=a.find(g=>g.id===c);if(!_||(t.isInternal&&_.cards.splice(o,1),!T))return;const G={...t.data,listId:c};T.cards.splice(k,0,G)})}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();var y=i(90789),x=i(70897),C=i(667),f=i(67984);function F(n,s){if(1&n&&(e.nrm(0,"kanban-card",6,1),e.nI1(2,"async")),2&n){const t=s.$implicit,a=e.sdS(1);e.Y8G("dndSortableRender",t)("dragSource",a.source)("card",t.data)("noHTML5Preview",!0)("placeholder",!!e.bMT(2,5,a.isDragging$))}}function P(n,s){1&n&&e.nrm(0,"kanban-card",9),2&n&&e.Y8G("card",s.$implicit)}function O(n,s){if(1&n&&(e.j41(0,"div",7),e.DNE(1,P,1,1,"kanban-card",8),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.list.cards)("ngForTrackBy",t.trackById)}}let I=(()=>{class n{constructor(t,a){this.specs=t,this.render=a,this.preview=!1,this.addCard=new e.bkB,this.placeholder$=this.render&&this.render.source.listen(r=>r.isDragging()),this.isOver$=this.render&&this.render.target.listen(r=>r.canDrop()&&r.isOver()),this.trackById=(r,o)=>o.id}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(h),e.rXU(d.eP,8))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["kanban-list"]],inputs:{list:"list",preview:"preview"},outputs:{addCard:"addCard"},standalone:!0,features:[e.aNF],decls:9,vars:12,consts:[["plain",""],["render","dndSortableRender"],[1,"list"],[1,"handle",3,"dragSource","noHTML5Preview"],[1,"cards-container",3,"spec","children","listId"],["dndSortableTemplate",""],[3,"dndSortableRender","dragSource","card","noHTML5Preview","placeholder"],[1,"cards-container"],[3,"card",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card"]],template:function(a,r){1&a&&(e.j41(0,"div",2),e.nI1(1,"async"),e.j41(2,"div",3)(3,"h3"),e.EFF(4),e.k0s()(),e.j41(5,"dnd-sortable-list",4),e.DNE(6,F,3,7,"ng-template",5),e.k0s(),e.DNE(7,O,2,2,"ng-template",null,0,e.C5r),e.k0s()),2&a&&(e.AVh("list--preview",r.preview)("list--placeholder",e.bMT(1,10,null==r.render?null:r.render.isDragging$)),e.R7$(2),e.Y8G("dragSource",null==r.render?null:r.render.source)("noHTML5Preview",!0),e.R7$(2),e.JRh(r.list.title),e.R7$(),e.Y8G("spec",r.specs.listSpec)("children",r.list.cards)("listId",r.list.id))},dependencies:[u.JG,y.LQ,d.p8,x.z,C.r,f.e,m,p.pM,p.Jj],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.cards-container[_ngcontent-%COMP%]{min-height:20px}.cards-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:6px}.list[_ngcontent-%COMP%]{position:relative;width:240px;padding:8px;border-radius:4px;-webkit-user-select:none;user-select:none;background:#eee;box-shadow:0 1px 3px #00000014,0 1px 2px #00000029}.list--preview[_ngcontent-%COMP%]{box-shadow:0 14px 28px #0003,0 10px 10px #0000001a}.list--placeholder[_ngcontent-%COMP%]{background:none;box-shadow:none}.list--placeholder[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.list--placeholder[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#00000021;border-radius:4px;box-shadow:inset 0 3px 7px #00000021,inset 0 1px 3px #00000038}.handle[_ngcontent-%COMP%]{margin:-8px;padding:8px}.handle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}']})}return n})();var S=i(86283);function j(n,s){if(1&n&&e.nrm(0,"kanban-card",6),2&n){const t=e.XpG().item;e.Aen(t.size.style()),e.Y8G("card",t.data)("preview",!0)}}function E(n,s){if(1&n&&e.nrm(0,"kanban-list",7),2&n){const t=e.XpG().item;e.Aen(t.size.style()),e.Y8G("list",t.data)("preview",!0)}}function B(n,s){if(1&n&&(e.qex(0,3),e.DNE(1,j,1,4,"kanban-card",4)(2,E,1,4,"kanban-list",5),e.bVm()),2&n){const t=s.$implicit,a=e.XpG();e.Y8G("ngSwitch",t),e.R7$(),e.Y8G("ngSwitchCase",a.ItemTypes.CARD),e.R7$(),e.Y8G("ngSwitchCase",a.ItemTypes.LIST)}}function D(n,s){if(1&n){const t=e.RV6();e.j41(0,"kanban-list",8),e.bIt("addCard",function(r){const o=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.addCard(o.data.id,r))}),e.k0s()}if(2&n){const t=s.$implicit;e.Y8G("dndSortableRender",t)("list",t.data)}}let R=(()=>{class n{constructor(t){this.specs=t,this.ItemTypes=l,this.hoverTrigger=d.lX.fixed}addCard(t,a){}removeCard(t){}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(h))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["kanban-board"]],standalone:!0,features:[e.aNF],decls:4,vars:6,consts:[[3,"allBackends"],[1,"kanban-root",3,"hoverTrigger","listId","children","spec","horizontal"],["dndSortableTemplate",""],[3,"ngSwitch"],[3,"card","preview","style",4,"ngSwitchCase"],[3,"list","preview","style",4,"ngSwitchCase"],[3,"card","preview"],[3,"list","preview"],[3,"addCard","dndSortableRender","list"]],template:function(a,r){1&a&&(e.j41(0,"dnd-preview",0),e.DNE(1,B,3,3,"ng-template"),e.k0s(),e.j41(2,"dnd-sortable-list",1),e.DNE(3,D,1,2,"ng-template",2),e.k0s()),2&a&&(e.Y8G("allBackends",!0),e.R7$(2),e.Y8G("hoverTrigger",r.hoverTrigger)("listId",888)("children",r.specs.tree)("spec",r.specs.boardSpec)("horizontal",!0))},dependencies:[M._X,S.J,d.p8,x.z,C.r,f.e,p.ux,p.e1,m,I],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.kanban-root[_ngcontent-%COMP%]{background:#50ddb0;flex:1;display:flex;min-height:500px;overflow-x:scroll;padding:8px;justify-content:flex-start}.kanban-root[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:8px}.trash-zone[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;text-align:right}"]})}return n})();const L=[{path:"",component:(()=>{class n{constructor(t,a){this.dnd=t,this.el=a,this.cardSpill=(0,d.gh)(this.dnd,l.CARD,{})}ngAfterViewInit(){}ngOnDestroy(){this.cardSpill.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(u.E$),e.rXU(e.aKT))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["kanban-container"]],standalone:!0,features:[e.aNF],decls:26,vars:0,consts:[[1,"text"],["path","sortable/simple-kanban"],[1,"span","span--darkblue"],[1,"span","span--light"],[1,"relative"]],template:function(a,r){1&a&&(e.j41(0,"div",0),e.nrm(1,"app-example-link",1),e.j41(2,"p"),e.EFF(3," This example uses "),e.j41(4,"code"),e.EFF(5,"@ng-dnd/sortable"),e.k0s(),e.EFF(6,". It's similar to the other one, but doesn't use "),e.j41(7,"code"),e.EFF(8,"ngrx"),e.k0s(),e.EFF(9,", just "),e.j41(10,"code"),e.EFF(11,"Immer"),e.k0s(),e.EFF(12,". There are two kinds of sortable in play here: "),e.k0s(),e.j41(13,"ul")(14,"li"),e.EFF(15,"One "),e.j41(16,"span",2),e.EFF(17,"horizontal"),e.k0s(),e.EFF(18," one, whose 'cards' are the vertical lists. Try grabbing a whole list by its header, and reordering. "),e.k0s(),e.j41(19,"li"),e.EFF(20,"Many "),e.j41(21,"span",3),e.EFF(22,"vertical"),e.k0s(),e.EFF(23," ones, which contain the kanban cards. Try moving the cards between lists. "),e.k0s()()(),e.j41(24,"div",4),e.nrm(25,"kanban-board"),e.k0s())},dependencies:[w.G,R],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{display:flex;flex-direction:column}.relative[_ngcontent-%COMP%]{position:relative}.text[_ngcontent-%COMP%]{background:#fff;max-width:800px}.span[_ngcontent-%COMP%]{border-radius:4px;padding:0 2px}.span--darkblue[_ngcontent-%COMP%]{background:#50ddb0;color:#fff}.span--light[_ngcontent-%COMP%]{background:#eee;color:#000;box-shadow:0 1px 3px #00000014,0 1px 2px #00000029}"],changeDetection:0})}return n})(),providers:[h]}]}}]);