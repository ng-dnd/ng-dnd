import{a as H,b as j}from"./chunk-UYXGNMTV.js";import{b as F,c as g,d as O,e as L,f as S,g as v,i as k,j as Q,k as V,l as z,n as G}from"./chunk-3OBIFKRL.js";import{c as pe,d as de,e as ce,f as R,i as ue,j as fe}from"./chunk-46UH37UU.js";import{e as se,f as le}from"./chunk-RPUZJCG6.js";import"./chunk-AZZEJM65.js";import{a as me}from"./chunk-T55MMTBF.js";import{Aa as E,Db as W,Eb as a,Fb as Y,Gb as q,Pa as l,Rb as ee,Sb as te,Tb as ie,Ya as f,a as B,ab as p,b as $,gb as m,hb as J,ib as X,ja as w,jb as U,lc as ne,mb as d,nb as M,ob as D,pb as T,qb as n,rb as o,sa as K,sb as c,sc as oe,ta as y,tc as I,ua as b,ub as P,uc as re,vb as C,wb as u,xc as N,zc as ae}from"./chunk-C7W2QAC5.js";var _e,he,x=function(e){return e.Math="Math",e.Name="Name",e}(x||{}),_=(()=>{class e{static{_e=H}constructor(t,i,r){this.id=t,this.question=i,this.answer=r,this[_e]=!0,this.formType=x.Math,this.templateDescription=e.templateDescription}static{this.templateDescription="Math question"}}return e})(),Z=(()=>{class e{static{he=H}constructor(t){this.id=t,this[he]=!0,this.formType=x.Name,this.templateDescription=e.templateDescription}static{this.templateDescription="Name and student ID"}}return e})();function ye(e,s){e&1&&(n(0,"div"),a(1,"That's not quite right."),o())}function be(e,s){e&1&&(n(0,"div"),a(1,"Correct!"),o())}function Ee(e,s){if(e&1&&(n(0,"div",4),p(1,ye,2,0,"div")(2,be,2,0,"div"),o()),e&2){let t=s;l(),d(t.invalid&&(t.touched||t.dirty)&&(t.errors!=null&&t.errors.incorrect)?1:-1),l(),d(t.valid?2:-1)}}function Me(e,s){if(e&1&&(n(0,"div")(1,"h4"),a(2),o(),n(3,"form",2),c(4,"input",3),p(5,Ee,3,2,"div",4),o()()),e&2){let t,i=u().$implicit,r=u();l(2),Y(r.getQuestion(i)),l(),m("formGroup",i.input),l(2),d((t=i.input.get("answer"))?5:-1,t)}}function De(e,s){e&1&&(n(0,"div"),a(1,"Please enter a student ID in the form 's1234'."),o())}function Te(e,s){if(e&1&&(n(0,"div",4),p(1,De,2,0,"div"),o()),e&2){let t=s;l(),d(t.invalid&&(t.touched||t.dirty)&&(t.errors!=null&&t.errors.pattern)?1:-1)}}function Pe(e,s){if(e&1&&(n(0,"div")(1,"h4"),a(2,"Enter your Name and Student Id"),o(),n(3,"form",2)(4,"label"),a(5,"Name "),c(6,"input",5),o(),n(7,"label"),a(8,"Student ID "),c(9,"input",6),o(),p(10,Te,2,1,"div",4),o()()),e&2){let t,i=u().$implicit;l(3),m("formGroup",i.input),l(7),d((t=i.input.get("studentId"))?10:-1,t)}}function qe(e,s){if(e&1&&(n(0,"div",1),p(1,Me,6,3,"div")(2,Pe,11,2,"div"),o()),e&2){let t,i=s.$implicit;l(),d((t=i.question.formType)==="Math"?1:t==="Name"?2:-1)}}var Ie=e=>s=>s.value===e?null:{incorrect:!0},ve=(()=>{class e{constructor(){this.sections=[]}set formElements(t){this.sections=t.map(i=>({question:i,input:this.getFormGroup(i)}))}getFormGroup(t){switch(t.formType){case x.Math:return new S({answer:new v(null,[g.required,Ie(t.answer)])});case x.Name:return new S({name:new v(null,[g.required]),studentId:new v(null,[g.required,g.pattern(/^s\d{4}$/)])})}}getQuestion(t){return t.question.question}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["app-printout"]],inputs:{formElements:"formElements"},decls:3,vars:0,consts:[[1,"printout-page"],[1,"printout-elem"],[3,"formGroup"],["formControlName","answer","type","number"],[1,"alert","alert-danger"],["formControlName","name"],["formControlName","studentId"]],template:function(i,r){i&1&&(n(0,"div",0),D(1,qe,3,1,"div",1,M),o()),i&2&&(l(),T(r.sections))},dependencies:[G,k,F,Q,O,L,V,z],styles:[".ng-valid[_ngcontent-%COMP%]:not(form){border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}"]})}}return e})();function Ne(e,s){e&1&&c(0,"input",3)}var Ce=(()=>{class e{constructor(){this.edit=new E}ngOnChanges(){this.form=new S({question:new v(this.data.question),answer:new v(this.data.answer)})}onSubmit(){this.edit.emit(new _(this.data.id,this.form.get("question")?.value,this.form.get("answer")?.value))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["app-math-form"]],inputs:{data:"data"},outputs:{edit:"edit"},features:[K],decls:11,vars:2,consts:[[3,"ngSubmit","formGroup"],["placeholder","Add a card","formControlName","question",1,"title"],["type","number","formControlName","answer",1,"amount"],["type","submit","value","Save question"]],template:function(i,r){i&1&&(n(0,"form",0),C("ngSubmit",function(){return r.onSubmit()}),n(1,"div")(2,"label"),a(3," Question: "),c(4,"input",1),o()(),n(5,"div")(6,"label"),a(7," Answer: "),c(8,"input",2),o()(),n(9,"div"),p(10,Ne,1,0,"input",3),o()()),i&2&&(m("formGroup",r.form),l(10),d(r.form.dirty?10:-1))},dependencies:[G,k,F,Q,O,L,V,z],encapsulation:2})}}return e})();function Oe(e,s){if(e&1){let t=P();n(0,"app-math-form",4),C("edit",function(r){y(t);let h=u();return b(h.edit.emit(r))}),o()}if(e&2){let t=u();m("data",t.getMathQuestion())}}function Le(e,s){e&1&&(n(0,"div"),a(1,"Student enters their name/student id"),o())}var xe=(()=>{class e{constructor(){this.render=w(R,{optional:!0}),this.preview=!1,this.edit=new E}getMathQuestion(){return this.question}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["quiz-section"]],inputs:{question:"question",preview:"preview"},outputs:{edit:"edit"},decls:7,vars:10,consts:[[1,"section",3,"dragPreview"],[1,"section-handle",3,"dragSource","noHTML5Preview"],[1,"section-content"],[3,"data"],[3,"edit","data"]],template:function(i,r){if(i&1&&(n(0,"div",0),ee(1,"async"),n(2,"span",1),a(3," \u2630 "),o(),n(4,"div",2),p(5,Oe,1,1,"app-math-form",3)(6,Le,2,0,"div"),o()()),i&2){let h;X("section--placeholder",te(1,8,r.render==null?null:r.render.isDragging$))("section--preview",r.preview),m("dragPreview",r.render==null?null:r.render.source),l(2),m("dragSource",r.render==null?null:r.render.source)("noHTML5Preview",!0),l(3),d((h=r.question.formType)==="Math"?5:h==="Name"?6:-1)}},dependencies:[N,I,re,Ce,ne],styles:["[_nghost-%COMP%]{display:block}.section[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:300px;color:#1111a7;background:#e2ecfa;display:flex}.section--preview[_ngcontent-%COMP%], [_nghost-%COMP%]:not(:last-child)   .section[_ngcontent-%COMP%]{border-bottom:1px solid #7593bf}.section-handle[_ngcontent-%COMP%]{cursor:move;color:#333;margin-right:4px}.section-handle[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]{padding:6px}.section--placeholder[_ngcontent-%COMP%]{opacity:.4;background:#eee}"]})}}return e})();function ke(e,s){if(e&1&&c(0,"quiz-section",13),e&2){let t=u(2).item;m("question",t.data)("preview",!0)}}function Qe(e,s){if(e&1&&(n(0,"div",15),a(1),o()),e&2){let t=u(2).item;U(t.size.style()),l(),q(" ",t.data.templateDescription," ")}}function Ve(e,s){if(e&1&&(n(0,"div",15),a(1),o()),e&2){let t=u(2).item;U(t.size.style()),l(),q(" ",t.data.templateDescription," ")}}function ze(e,s){if(e&1&&p(0,ke,1,2,"quiz-section",13)(1,Qe,2,3,"div",14)(2,Ve,2,3,"ng-template",null,0,ie),e&2){let t=u().item;d(t.isInternal||t.hover.listId==="WORK_AREA"?0:1)}}function Ge(e,s){if(e&1&&p(0,ze,4,1),e&2){let t=s.$implicit;d(t==="QUIZ_QUESTION"?0:-1)}}function Re(e,s){if(e&1&&(n(0,"div",7,1),a(2),o()),e&2){let t=s.$implicit,i=W(1);m("dndSortableExternal",t.spec)("dragSource",i.source)("noHTML5Preview",!0),l(2),q(" ",t.description," ")}}function Ae(e,s){if(e&1){let t=P();n(0,"quiz-section",16,2),C("edit",function(r){y(t);let h=u();return b(h.edit(r))}),o()}if(e&2){let t=s.$implicit,i=W(1);J("display","block"),m("dndSortableRender",t)("question",i.data)}}var ge=(()=>{class e{constructor(){this.dnd=w(ae),this.spill=ue(this.dnd,"QUIZ_QUESTION",{drop:t=>{t.isInternal&&(this.list=this.tempList=this.remove(t))}}),this.list=[new _(1,"What is 2+2?",4),new _(2,"What is the meaning of life?",42),new _(3,"What is 1137 mod 256?",113)],this.nextId=4,this.tempList=this.list,this.spec={type:"QUIZ_QUESTION",trackBy:t=>t.id,hover:t=>{this.tempList=this.move(t)},drop:t=>{this.tempList=this.list=this.move(t)},endDrag:t=>{this.tempList=this.list}},this.nameBlock=$(B({},this.spec),{createData:()=>new Z(this.nextId++)}),this.mathQuestion=$(B({},this.spec),{createData:()=>new _(this.nextId++,"New math question",0)}),this.questionTemplates=[{spec:this.nameBlock,description:Z.templateDescription},{spec:this.mathQuestion,description:_.templateDescription}]}move(t){return j(this.list,i=>{t.isInternal&&i.splice(t.index,1),i.splice(t.hover.index,0,t.data)})}remove(t){return j(this.list,i=>{i.splice(t.index,1)})}edit(t){let i=this.list.findIndex(r=>r.id===t.id);if(i>=0){let r=this.list.slice(0);r.splice(i,1,t),this.tempList=this.list=r}}ngOnDestroy(){this.spill.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["app-external-sortable"]],decls:18,vars:5,consts:[["external",""],["ext","dndSortableExternal"],["r","dndSortableRender"],[3,"allBackends"],[1,"flex",3,"dropTarget"],[1,"templates"],[1,"templates-flex"],[1,"external",3,"dndSortableExternal","dragSource","noHTML5Preview"],[1,"work-area"],["listId","WORK_AREA",1,"list",3,"spec","children"],[3,"display","dndSortableRender","question","edit",4,"dndSortableTemplate"],[1,"printout"],[3,"formElements"],[3,"question","preview"],[1,"external",3,"style"],[1,"external"],[3,"edit","dndSortableRender","question"]],template:function(i,r){i&1&&(n(0,"dnd-preview",3),p(1,Ge,1,1,"ng-template"),o(),n(2,"div",4)(3,"div",5)(4,"h3"),a(5,"Drag templates"),o(),n(6,"div",6),D(7,Re,3,4,"div",7,M),o()(),n(9,"div",8)(10,"h3"),a(11,"...into here; edit them"),o(),n(12,"dnd-sortable-list",9),p(13,Ae,2,4,"quiz-section",10),o()(),n(14,"div",11)(15,"h3"),a(16,"... then try the quiz out"),o(),c(17,"app-printout",12),o()()),i&2&&(m("allBackends",!0),l(2),m("dropTarget",r.spill),l(5),T(r.questionTemplates),l(5),m("spec",r.spec)("children",r.tempList),l(5),m("formElements",r.list))},dependencies:[N,I,oe,fe,ce,de,R,pe,le,se,xe,ve],styles:["@media screen and (width >= 480px){.flex[_ngcontent-%COMP%]{display:flex}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;padding:4px}}h3[_ngcontent-%COMP%]{border-bottom:2px solid #dedede;padding-bottom:6px}.templates-flex[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column}.external[_ngcontent-%COMP%]{background:#ffe5df;color:#ab4a30;padding:4px;margin-bottom:8px;border-top:2px solid #f9ede9;border-bottom:2px solid #efc5ba;min-width:0}"]})}}return e})();var Se=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f({type:e,selectors:[["quiz-container"]],decls:14,vars:0,consts:[["path","sortable/quiz"]],template:function(i,r){i&1&&(c(0,"app-example-link",0),n(1,"p"),a(2," This example does the same list operations as the 'Simple list' example, but it does them with "),n(3,"code"),a(4,"immer"),o(),a(5," just to shake things up. "),o(),n(6,"p"),a(7," It also uses the "),n(8,"code"),a(9,"[dndSortableExternal]"),o(),a(10," directive to allow dragging in items that aren't already managed by a list. "),o(),n(11,"p"),a(12," It also uses a 'spillTarget', attached outside the work area, which allows the preview to morph as you drag templates over the work area and out again. "),o(),c(13,"app-external-sortable"))},dependencies:[me,ge],encapsulation:2})}}return e})();var qt=[{path:"",component:Se}];export{qt as routes};
