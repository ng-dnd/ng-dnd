import{b as F}from"./chunk-SDQHVLFJ.js";import{a as P}from"./chunk-HQODWAYX.js";import{$a as v,Ab as w,E as B,Ib as a,Nb as y,Ob as h,Qa as p,Ra as l,bb as s,eb as g,hb as D,lb as d,mb as m,mc as S,na as r,nb as c,rb as b,sc as O,tc as k,w as T,xc as _,zb as I,zc as f}from"./chunk-NAC6KBNY.js";var M=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=r({type:t,selectors:[["app-box"]],inputs:{title:"title"},standalone:!0,features:[a],decls:2,vars:1,template:function(e,i){e&1&&(d(0,"div"),I(1),m()),e&2&&(p(),w(i.title))},styles:["div[_ngcontent-%COMP%]{border:1px dashed grey;cursor:move;padding:.5rem 1rem}"]})}}return t})();var L=(()=>{class t{constructor(){}ngOnInit(){}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=r({type:t,selectors:[["app-box-drag-preview"]],inputs:{title:"title"},standalone:!0,features:[a],decls:2,vars:1,consts:[[1,"phresh"],[3,"title"]],template:function(e,i){e&1&&(d(0,"div",0),c(1,"app-box",1),m()),e&2&&(p(),s("title",i.title))},dependencies:[M],styles:["[_nghost-%COMP%]{display:inline-block}@keyframes _ngcontent-%COMP%_animatedBackground{0%{background:#ff0}to{background:#fff}}.phresh[_ngcontent-%COMP%]{background:#fff;transform:rotate(-10deg);overflow:hidden;animation-name:_ngcontent-%COMP%_animatedBackground;animation-duration:.7s;animation-iteration-count:infinite;animation-timing-function:linear;animation-direction:alternate}"]})}}return t})();function $(t,u){let n=Math.round(t/32)*32,e=Math.round(u/32)*32;return[n,e]}function z(t,u){if(t&1&&c(0,"app-box-drag-preview",1),t&2){let n=b(2);s("title",n.item.title)}}function A(t,u){if(t&1&&(d(0,"div"),y(1,"async"),v(2,z,1,1,"app-box-drag-preview",1),m()),t&2){let n,e=b(),i=b();g(h(1,3,i.forStyle$)),p(2),D((n=e.itemType)==="BOX"?2:-1)}}function H(t,u){t&1&&v(0,A,3,5,"div",0),t&2&&D(u.isDragging?0:-1)}var G=(()=>{class t{constructor(n){this.dnd=n,this.dragLayer=this.dnd.dragLayer(),this.collect$=this.dragLayer.listen(e=>({item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset()})),this.forStyle$=this.collect$.pipe(B(e=>e.isDragging),T(e=>this.getItemStyles(e))),this.snapToGrid=!1}ngOnInit(){}ngOnDestroy(){this.dragLayer.unsubscribe()}getItemStyles({initialOffset:n,currentOffset:e}){if(!n||!e)return{display:"none"};let{x:i,y:o}=e;this.snapToGrid&&(i-=n.x,o-=n.y,[i,o]=$(i,o),i+=n.x,o+=n.y);let x=`translate(${i}px, ${o}px)`;return{transform:x,WebkitTransform:x}}static{this.\u0275fac=function(e){return new(e||t)(l(f))}}static{this.\u0275cmp=r({type:t,selectors:[["app-custom-drag-layer"]],standalone:!0,features:[a],decls:2,vars:3,consts:[[3,"style"],[3,"title"]],template:function(e,i){if(e&1&&(v(0,H,1,1),y(1,"async")),e&2){let o;D((o=h(1,1,i.collect$))?0:-1,o)}},dependencies:[L,S],styles:["[_nghost-%COMP%]{display:block;position:fixed;pointer-events:none;z-index:100;left:0;top:0;width:100%;height:100%}"],changeDetection:0})}}return t})();var X=(()=>{class t{constructor(n){this.dnd=n,this.source=this.dnd.dragSource("BOX",{beginDrag:()=>{let{id:e,title:i,left:o,top:x}=this;return{id:e,title:i,left:o,top:x}}}),this.isDragging$=this.source.listen(e=>e.isDragging())}ngOnInit(){this.source.connectDragPreview(F(),{captureDraggingState:!0})}ngOnDestroy(){this.source.unsubscribe()}getStyles(n){let{left:e,top:i}=this,o=`translate3d(${e}px, ${i}px, 0)`;return{position:"absolute",transform:o,WebkitTransform:o,opacity:n?0:null,height:n?0:null}}static{this.\u0275fac=function(e){return new(e||t)(l(f))}}static{this.\u0275cmp=r({type:t,selectors:[["app-draggable-box"]],inputs:{id:"id",title:"title",left:"left",top:"top"},standalone:!0,features:[a],decls:3,vars:6,consts:[[1,"draggable-box",3,"dragSource"],[3,"title"]],template:function(e,i){e&1&&(d(0,"div",0),y(1,"async"),c(2,"app-box",1),m()),e&2&&(g(i.getStyles(!!h(1,4,i.isDragging$))),s("dragSource",i.source),p(2),s("title",i.title))},dependencies:[_,k,M,S],encapsulation:2,changeDetection:0})}}return t})();var j=(()=>{class t{constructor(n){this.dnd=n,this.x=30,this.y=90,this.styles={minHeight:"300px",maxWidth:"400px",maxHeight:"400px",width:"100%",height:"100%",boxSizing:"border-box",border:"1px solid black",position:"relative"},this.boxTarget=this.dnd.dropTarget("BOX",{drop:e=>{let i=e.getDifferenceFromInitialOffset(),o=e.getItem();this.moveBox(o.id,o.left+i.x,o.top+i.y)}})}moveBox(n,e,i){this.x=e,this.y=i}ngOnInit(){}ngOnDestroy(){this.boxTarget.unsubscribe()}static{this.\u0275fac=function(e){return new(e||t)(l(f))}}static{this.\u0275cmp=r({type:t,selectors:[["app-drag-container"]],standalone:!0,features:[a],decls:2,vars:6,consts:[[3,"dropTarget"],["title","this box is titled",3,"left","top","id"]],template:function(e,i){e&1&&(d(0,"div",0),c(1,"app-draggable-box",1),m()),e&2&&(g(i.styles),s("dropTarget",i.boxTarget),p(),s("left",i.x)("top",i.y)("id",23))},dependencies:[_,O,X],encapsulation:2})}}return t})();var W=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=r({type:t,selectors:[["app-drag-layer-container"]],standalone:!0,features:[a],decls:3,vars:0,consts:[["path","drag-layer"]],template:function(e,i){e&1&&c(0,"app-example-link",0)(1,"app-custom-drag-layer")(2,"app-drag-container")},dependencies:[P,G,j],encapsulation:2})}}return t})();var ge=[{path:"",component:W}];export{ge as routes};
